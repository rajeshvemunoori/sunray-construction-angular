{"version":3,"sources":["node_modules/tslib/tslib.es6.js","ng://@ceo/wordpress/lib/api/classes/entities/wordpress.entity.ts","ng://@ceo/wordpress/lib/api/classes/entities/attachment.entity.ts","ng://@ceo/wordpress/lib/api/classes/entities/resource-configuration.entity.ts","ng://@ceo/wordpress/lib/api/classes/entities/state.entity.ts","ng://@ceo/wordpress/lib/api/config/url.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/base-entity-config.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/types/attachment-entity-config.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/types/menu-entity-config.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/types/page-entity-config.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/types/base.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/types/resource-configuration-entity-config.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/types/index.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/build-entity-configs.ts","ng://@ceo/wordpress/lib/api/config/entity-configs/entity-configs.ts","ng://@ceo/wordpress/lib/api/config/selectors/for-taxonomy/selector.ts","ng://@ceo/wordpress/lib/api/config/selectors/for-taxonomy/is-valid.ts","ng://@ceo/wordpress/lib/api/config/selectors/index.ts","ng://@ceo/wordpress/lib/api/config/selectors.ts","ng://@ceo/wordpress/lib/api/config/feature-config.ts","ng://@ceo/wordpress/lib/api/config/api-config.ts","ng://@ceo/wordpress/lib/api/services/entity-attribute-builder.service.ts","ng://@ceo/wordpress/lib/api/services/entity.effects.ts","ng://@ceo/wordpress/lib/api/services/api/request-options-builder.service.ts","ng://@ceo/wordpress/lib/api/services/api/index.ts","ng://@ceo/wordpress/lib/api/services/public-api.ts","ng://@ceo/wordpress/lib/api/store/tokens.ts","ng://@ceo/wordpress/lib/api/store/builders/build-api-service.ts","ng://@ceo/wordpress/lib/api/store/builders/build-initial-state.ts","ng://@ceo/wordpress/lib/api/store/builders/build-selectors.ts","ng://@ceo/wordpress/lib/api/store/providers.ts","ng://@ceo/wordpress/lib/api/api.module.ts"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","this","constructor","prototype","create","__read","o","n","m","Symbol","iterator","r","e","i","call","ar","next","done","push","value","error","__spread","arguments","length","concat","WordpressEntity","init","dataService","_this","_super","createRenderedAttributeGetters","tslib_1.__extends","defineProperty","_featuredMediaUrl","getFeaturedMediaUrl","attachment$","attachmentName","attachmentData","camelCase","ri","feature","type","id","ID","get$","pipe","filter","attachment","_.isEmpty","defaultUrl","_.has","featuredMediaCollection","attributes","_embedded","source_url","getAttributesWithRenderedFormat","_.map","attrName","propName","pascalCase","privatePropName","getter","props","get","memoized","set","_.pickBy","attribute","_sliceName","JsonApiEntity","AttachmentEntity","htmlMediaType","imageTagAttributes","videoTagAttributes","mimeType","_.find","mimeTypes","mediaType","defaultMediaType","width","mediaDetails","height","alt","altText","src","sourceUrl","autoplay","controls","ResourceConfigurationEntity","defaultAttributes","isRoutable","StateEntity","featureUrl","WordpressEntityConfig","ofType","entityData","baseUrl","_.join","url","attributesUrl","urlFromAttributes","startsWith","_.get","EntityConfig","AttachmentEntityConfig","includes","entityConfigType","entityConfig","entityType","MenuEntityConfig","isSeed","seed","PageEntityConfig","primaryKeys","baseEntityConfigTypes","allEntityConfigTypes","_.concat","menuEntityConfigType","pageEntityConfigType","attachmentEntityConfigType","entityConfigTypes","_.sortBy","entities","_.reduce","entityMap","name","displayName","displaySlug","resourceType","_.merge","entity","initialState","ids","resourceConfigurationEntityConfigType","buildEntityConfig","params","configType","BaseEntityConfig","configParams","_.omit","_.defaults","BaseEntity","buildEntityConfigs","entityConfigParams","entityConfigs","selector","selectorService","si","selectorType","baseSelector","selectorFromSelectorIdentifier","taxonomyType","pluralize","taxonomy","taxonomyValue","term","taxonomySelectorIdentifier","taxonomySelector","createSelector","state","taxonomyState","where","findByAttr","none","isValid","forTaxonomy","selectors","featureName","featureConfig","baseEntityType","config","FeatureConfig","defaultBodyParams","defaultQueryParams","_embed","per_page","resourceTypes","entityTypes","apiConfig","ApiConfig","EntityAttributeBuilder","omittedAttributes","build","buildAttributes","Injectable","args","providedIn","EntityEffects","BaseEntityEffects","RequestOptionsBuilder","filterParams","getFilter","sanitizedParams","BaseApiRequestOptionsBuilder","services","ApiRequestOptionsBuilder","api.services","WORDPRESS_API_CONFIG","InjectionToken","WORDPRESS_API_REQUEST_OPTIONS_BUILDER","WORDPRESS_API_RESPONSE_PARSER","WORDPRESS_API_SERVICE","WORDPRESS_FEATURE_REDUCER","WORDPRESS_ENTITY_SERVICE","WORDPRESS_FEATURE_CONFIG","WORDPRESS_FEATURE_CONFIG_ATTRIBUTES","WORDPRESS_FEATURE_NAME","WORDPRESS_CUSTOM_SELECTORS","WORDPRESS_ENTITY_ATTRIBUTE_BUILDER","buildApiService","http","csvToJsonService","responseParser","urlBuilder","ApiRequestUrlBuilder","optionsBuilder","ApiService","buildFeatureInitialState","baseBuildFeatureInitialState","buildSelectors","tokenProviders","provide","useValue","useClass","ApiResponseParser","useFactory","deps","HttpClient","CsvToJsonService","WordpressEntityAttributeBuilder","WordpressEntityEffects","buildEntityEffects","Store","Actions","ResourceIdentifierService","buildEntityService","EntityFactory","FEATURE_CONFIG","multi","EntitySelectorService","EntitySelectorNameService","buildFeatureReducer","buildFeatureConfig","ApiModule","NgModule","imports","StoreModule","forFeature","EffectsModule","providers","storeTokenProviders"],"mappings":"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","sourcesContent":["/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import * as _ from 'lodash'\n\nimport {\n  filter,\n} from 'rxjs/operators'\n\nimport {\n  pascalCase,\n  camelCase,\n} from '@ceo/core'\n\nimport {\n  JsonApiEntity,\n  iEntity,\n  iDataService,\n  iResourceIdentifier,\n  EntityRelationshipIdentifier,\n} from '@ceo/entity'\n\nexport class WordpressEntity extends JsonApiEntity {\n  static _sliceName: string = 'wp-entities'\n\n  feature: 'cms'\n  protected _renderedTitle: string\n  protected _renderedContent: string\n  protected _featuredMediaUrl: string\n\n  constructor(\n    init?: Partial<iEntity>,\n    dataService?: iDataService,\n  ) {\n    super(init, dataService)\n    this.createRenderedAttributeGetters()\n  }\n\n  get featuredMediaUrl(): string {\n    if(!this._featuredMediaUrl) {\n      this._featuredMediaUrl = this.getFeaturedMediaUrl()\n    }\n\n    return this._featuredMediaUrl\n  }\n\n  attachment$(attachmentName: string) {\n    let propName = camelCase(attachmentName)\n    let attachmentData = this[propName]\n    let ri = {\n      feature: this.feature,\n      type: 'attachments',\n      id: attachmentData.id || attachmentData.ID\n    } as iResourceIdentifier\n\n    return this.dataService.get$(ri).pipe(\n      filter(attachment => !_.isEmpty(attachment))\n    )\n  }\n\n  private getFeaturedMediaUrl(defaultUrl: string = ''): string {\n    if(!_.has(this, 'attributes._embedded.wp:featuredmedia')) {\n      return defaultUrl\n    }\n\n    let featuredMediaCollection = this.attributes._embedded['wp:featuredmedia']\n    if(featuredMediaCollection) {\n      return featuredMediaCollection[0].source_url\n    }\n\n    return defaultUrl\n  }\n\n  private createRenderedAttributeGetters() {\n    let createRenderedAttributeGetter = (value, attrName: string) => {\n      let propName = `rendered${pascalCase(attrName)}`\n      let privatePropName = `_${propName}`\n\n      let getter = () => {\n        return this[attrName]['rendered']\n      }\n\n      let props = {\n        get: () => {\n          return this.memoized(privatePropName, getter)\n        },\n        set: (value: any) => {}\n      }\n\n      Object.defineProperty(this, propName, props)\n    }\n\n    let attributes = this.getAttributesWithRenderedFormat()\n    _.map(attributes, createRenderedAttributeGetter)\n  }\n\n  private getAttributesWithRenderedFormat() {\n    let hasRenderedFormat = (attribute) => {\n      return _.has(attribute, 'rendered')\n    }\n    return _.pickBy(this.attributes, hasRenderedFormat)\n  }\n}\n","import * as _ from 'lodash'\n\nimport {\n  HtmlMediaTagAttributes,\n  iHtmlImageTagAttributes,\n  iHtmlVideoTagAttributes,\n  mimeTypes,\n} from '@ceo/shared'\n\nimport { WordpressEntity } from './wordpress.entity'\n\nexport class AttachmentEntity extends WordpressEntity {\n  static defaultMediaType: string = 'image'\n\n  mimeType: string\n  mediaDetails: any\n  altText: string\n  sourceUrl: string\n\n  get htmlTagAttributes(): HtmlMediaTagAttributes {\n    switch(this.htmlMediaType) { \n      case 'image': { \n        return this.imageTagAttributes()\n        break; \n      } \n      case 'video': { \n        return this.videoTagAttributes()\n        break; \n      } \n      default: { \n        return this.imageTagAttributes()\n        break; \n      } \n    } \n  }\n\n  get htmlMediaType(): string {\n    let mimeType = _.find(mimeTypes, { mimeType: this.mimeType }) as any\n    return mimeType ? mimeType.mediaType : AttachmentEntity.defaultMediaType\n  }\n\n  private imageTagAttributes(): iHtmlImageTagAttributes {\n    return {\n      width: this.mediaDetails.width,\n      height: this.mediaDetails.height,\n      alt: this.altText,\n      src: this.sourceUrl,\n    }\n  }\n\n  private videoTagAttributes(): iHtmlVideoTagAttributes {\n    return {\n      autoplay: false,\n      controls: true,\n      width: this.mediaDetails.width,\n      height: this.mediaDetails.height,\n      src: [{\n        src: this.sourceUrl,\n        type: this.mimeType,\n      }]\n    }\n  }\n}\n","import { WordpressEntity } from './wordpress.entity'\n\nexport class ResourceConfigurationEntity extends WordpressEntity {\n  static defaultAttributes: {} = {\n    isRoutable: true,\n  }\n}\n","import { WordpressEntity } from './wordpress.entity'\n\nexport class StateEntity extends WordpressEntity {\n  static defaultAttributes: {} = {\n    isRoutable: false,\n  }\n}\n","export const featureUrl: string = \"http://sunray-wordpress.customexposure.tech/wp-json\"\n","import * as _ from 'lodash'\n\nimport { startsWith } from '@ceo/core'\n\nimport {\n  EntityConfig,\n  iEntity,\n} from '@ceo/entity'\n\nimport { featureUrl } from '../url'\n\nexport class WordpressEntityConfig extends EntityConfig {\n  ofType(entityData: iEntity): boolean {\n    if(entityData.type) {\n      return this.type == entityData.type\n    }\n\n    let baseUrl = _.join([featureUrl, this.url], '/')\n    let attributesUrl = this.urlFromAttributes(entityData)\n    return startsWith(attributesUrl, baseUrl)\n  }\n\n  urlFromAttributes(entityData: any = {}): string {\n    return _.get(entityData, ['attributes', '_links', 'self', '0', 'href'], ' ')\n  }\n}\n","import * as _ from 'lodash'\n\nimport {\n  iEntity,\n} from '@ceo/entity'\n\nimport {\n  AttachmentEntity,\n} from '../../../classes/entities/index'\n\nimport { WordpressEntityConfig } from '../base-entity-config'\n\nexport class AttachmentEntityConfig extends WordpressEntityConfig {\n  ofType(entityData: iEntity): boolean {\n    if(entityData.type) {\n      return entityData.type == 'attachment'\n    }\n\n    let attributesUrl = this.urlFromAttributes(entityData)\n    return attributesUrl.includes(\"v2/media\")\n  }\n}\n\nexport const entityConfigType = {\n  type: \"attachments\",\n  url: 'wp/v2/media',\n  entityConfig: AttachmentEntityConfig,\n  entityType: AttachmentEntity,\n}\n\n","import * as _ from 'lodash'\n\nimport {\n  iEntity,\n} from '@ceo/entity'\n\nimport { WordpressEntityConfig } from '../base-entity-config'\n\nexport class MenuEntityConfig extends WordpressEntityConfig {\n  ofType(entityData: iEntity): boolean {\n    if(entityData.type) {\n      return this.type == entityData.type\n    }\n\n    let attributesUrl = this.urlFromAttributes(entityData)\n    return attributesUrl.includes(\"v2/menus\")\n  }\n\n  urlFromAttributes(entityData: any = {}): string {\n    return _.get(entityData, ['attributes', 'meta', 'links', 'self'], ' ')\n  }\n}\n\nexport const entityConfigType = {\n  type: \"menus\",\n  isSeed: true,\n  seed: [{}],\n  url: 'wp-api-menus/v2/menus',\n  entityConfig: MenuEntityConfig\n}\n","import * as _ from 'lodash'\n\nimport {\n  iEntity,\n} from '@ceo/entity'\n\nimport { WordpressEntityConfig } from '../base-entity-config'\n\nexport class PageEntityConfig extends WordpressEntityConfig {\n  ofType(entityData: iEntity): boolean {\n    if(entityData.type) {\n      return entityData.type == 'page'\n    }\n\n    let attributesUrl = this.urlFromAttributes(entityData)\n    return attributesUrl.includes(\"v2/pages\")\n  }\n\n  urlFromAttributes(entityData: any = {}): string {\n    return _.get(entityData, ['attributes', 'meta', 'links', 'self'], ' ')\n  }\n}\n\nexport const entityConfigType = {\n  type: \"pages\",\n  url: 'wp/v2/pages',\n  primaryKeys: [\"id\", \"slug\"],\n  entityConfig: PageEntityConfig,\n}\n","import * as _ from 'lodash'\n\nimport {\n  StateEntity,\n} from '../../../classes/index'\n\nimport { entityConfigType as attachmentEntityConfigType } from './attachment-entity-config'\nimport { entityConfigType as menuEntityConfigType }       from './menu-entity-config'\nimport { entityConfigType as pageEntityConfigType }       from './page-entity-config'\n\nlet baseEntityConfigTypes = [\n  {\n    type: \"wordpress-entities\",\n  },\n  {\n    type: 'categories',\n    isSeed: true,\n    seed: [{}],\n    url: 'wp/v2/categories',\n  },\n  {\n    type: \"document-types\",\n    url: 'wp/v2/document-types'\n  },\n  {\n    type: \"ebooks\",\n    url: 'wp/v2/ebooks'\n  },\n  {\n    type: \"faqs\",\n    url: 'wp/v2/faqs'\n  },\n  {\n    type: \"gallery-images\",\n    url: 'wp/v2/gallery-images'\n  },\n  {\n    type: \"infographics\",\n    url: 'wp/v2/infographics'\n  },\n  {\n    type: \"lc-categories\",\n    url: 'wp/v2/lc-categories'\n  },\n  {\n    type: \"posts\",\n    url: 'wp/v2/posts'\n  },\n  {\n    type: \"publications\",\n    url: 'wp/v2/publications',\n  },\n  {\n    type: \"statutory-documents\",\n    url: 'wp/v2/statutory-documents',\n  },\n  {\n    type: \"recorded-webinars\",\n    url: 'wp/v2/recorded-webinars',\n  },\n  {\n    type: \"seminars\",\n    url: 'wp/v2/seminars',\n  },\n  {\n    type: \"states\",\n    url: 'wp/v2/states',\n    entityType: StateEntity,\n  },\n  {\n    type: \"team-members\",\n    url: 'wp/v2/team-members'\n  },\n  {\n    type: \"testimonials\",\n    url: 'wp/v2/testimonials'\n  },\n  {\n    type: \"video-testimonials\",\n    url: 'wp/v2/video-testimonials'\n  },\n  {\n    type: \"videos\",\n    url: 'wp/v2/videos'\n  },\n  {\n    type: \"webinars\",\n    url: 'wp/v2/webinars'\n  }\n]\n\nlet allEntityConfigTypes = \n  _.concat(\n    baseEntityConfigTypes,\n    menuEntityConfigType,\n    pageEntityConfigType,\n    attachmentEntityConfigType,\n  )\n\nexport const entityConfigTypes = _.sortBy(allEntityConfigTypes, 'type')\n","import * as _ from 'lodash'\n\nimport { pascalCase } from '@ceo/core'\n\nimport { EntityCollection } from '@ceo/entity'\n\nimport {\n  WordpressEntity,\n  ResourceConfigurationEntity,\n} from '../../../classes/index'\n\nimport { entityConfigTypes as baseEntityConfigTypes } from './base'\n\nlet buildResourceConfiguration = (entityMap, entityConfigType) => {\n  let name = entityConfigType.type\n\n  let attributes = {\n    displayName: pascalCase(name),\n    displaySlug: name,\n    resourceType: name,\n    primaryKeys: ['id'],\n  }\n\n  if(entityConfigType.entityType) {\n    _.merge(attributes, entityConfigType.entityType.defaultAttributes)\n  }\n\n  let data = {\n    id: name,\n    type: 'resource-configurations',\n    attributes: attributes,\n  }\n  let entity = new ResourceConfigurationEntity(data)\n\n  entityMap[name] = entity\n  return entityMap\n}\n\nlet entities = _.reduce(baseEntityConfigTypes, buildResourceConfiguration, {})\n\nexport const entityConfigType = {\n  type: \"resource-configurations\",\n  url: 'wp/v2/resource-configurations',\n  entityType: ResourceConfigurationEntity,\n  initialState: {\n    ids: _.map(entities, 'id'),\n    entities: entities\n  }\n}\n","import * as _ from 'lodash'\n\nimport {\n  StateEntity,\n} from '../../../classes/index'\n\nimport {\n  entityConfigType as resourceConfigurationEntityConfigType\n} from './resource-configuration-entity-config'\n\nimport { entityConfigTypes as baseEntityConfigTypes } from './base'\n\nexport const entityConfigTypes = \n  _.concat(\n    baseEntityConfigTypes,\n    resourceConfigurationEntityConfigType,\n  )\n","import * as _ from 'lodash'\n\nimport { WordpressEntity as BaseEntity } from '../../classes'\n\nimport { WordpressEntityConfig as BaseEntityConfig } from './base-entity-config'\n\nexport function buildEntityConfig(\n  params\n) {\n\n  let configType = _.get(params, 'entityConfig', BaseEntityConfig)\n\n  let configParams = _.omit(params, ['entityConfig', 'configuration'])\n  configParams = _.defaults(configParams, {entityType: BaseEntity})\n  return new configType(configParams)\n}\n\n\nexport function buildEntityConfigs(\n  entityConfigParams\n) {\n  return _.map(\n    _.sortBy(entityConfigParams, 'type'),\n    buildEntityConfig\n  )\n}\n","import { iEntityConfig } from '@ceo/entity'\n\nimport { entityConfigTypes }  from './types/index'\nimport { buildEntityConfigs } from './build-entity-configs'\n\nexport const entityConfigs: iEntityConfig[] = buildEntityConfigs(entityConfigTypes)\n","import { Store, createSelector, MemoizedSelector } from '@ngrx/store'\n\nimport {\n  pluralize\n} from '@ceo/core'\n\nimport {\n  iResourceIdentifier,\n} from '@ceo/entity'\n\nexport function selector(\n  selectorService,\n  ri: iResourceIdentifier,\n) {\n\n  let si = {\n    feature: 'cms',\n    entityType: ri.type,\n    selectorType: 'all'\n  }\n  let baseSelector = selectorService\n    .selectorFromSelectorIdentifier(si)\n\n  var taxonomyType = pluralize(ri.filter.taxonomy)\n  var taxonomyValue = ri.filter.term\n\n  // Filter function\n  let filterByTaxonomy = (state, taxonomyState) => {\n    if(state && state.where) {\n      let taxonomy = taxonomyState.findByAttr('slug', taxonomyValue)\n      if(taxonomy) {\n        let filter = {}\n        filter[taxonomyType] = taxonomy.id\n\n        return state.where(filter)\n      }\n      else {\n        return state.none()\n      }\n    }\n    else {\n      return state\n    }\n  }\n\n  // Get the selector for the taxonomy\n  let taxonomySelectorIdentifier = {\n    feature: 'cms',\n    entityType: taxonomyType,\n    selectorType: 'all'\n  }\n  let taxonomySelector = selectorService\n    .selectorFromSelectorIdentifier(taxonomySelectorIdentifier)\n\n  return createSelector(\n    baseSelector,\n    taxonomySelector,\n    filterByTaxonomy,\n  )\n}\n","import * as _ from 'lodash'\n\nimport {\n  iResourceIdentifier,\n} from '@ceo/entity'\n\nexport function isValid(\n  ri: iResourceIdentifier,\n) {\n  let filter = ri.filter\n\n  let filterHasTaxonomy = (filter) => {\n    return _.has(filter, 'taxonomy') && _.has(filter, 'term')\n  }\n\n  return filter && filterHasTaxonomy(filter)\n}\n","import { selector } from './for-taxonomy/selector'\nimport { isValid }  from './for-taxonomy/is-valid'\n\nexport const forTaxonomy = {\n  selector: selector,\n  isValid: isValid\n}\n","import * as _ from 'lodash'\n\nimport { Store, createSelector, MemoizedSelector } from '@ngrx/store'\n\nimport {\n  pluralize\n} from '@ceo/core'\n\nimport {\n  iEntitySelectorIdentifier,\n  iResourceIdentifier,\n} from '@ceo/entity'\n\nimport {\n  forTaxonomy,\n} from './selectors/index'\n\nexport const selectors = [\n  forTaxonomy,\n]\n","import { MemoizedSelector } from '@ngrx/store'\n\nimport {\n  iEntityConfig,\n  iResourceIdentifier,\n} from '@ceo/entity'\n\nimport { WordpressEntity } from '../classes/index'\n\nimport { entityConfigs } from './entity-configs/index'\n\nimport { selectors } from './selectors'\n\nexport const featureName = \"cms\"\nexport const featureConfig = {\n  name: featureName,\n  entityConfigs: entityConfigs,\n  baseEntityType: WordpressEntity,\n  selectors: selectors\n}\n","//\n//import { environment } from 'src/environments/environment'\n\nimport { FeatureConfig } from '@ceo/entity'\nimport { ApiConfig } from '@ceo/shared'\n\nimport { featureConfig } from './feature-config'\nimport { featureUrl }    from './url'\n\nlet config = new FeatureConfig(featureConfig)\n\nlet params = {\n  url: featureUrl,\n  defaultBodyParams: {},\n  defaultQueryParams: {\n    \"_embed\": true,\n    \"per_page\": 100,\n  },\n  resourceTypes: config.entityTypes,\n}\nexport const apiConfig = new ApiConfig(params)\n","import * as _ from 'lodash'\n\nimport { Injectable } from '@angular/core'\n\nimport {\n  iEntityAttributes,\n} from '@ceo/entity'\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class EntityAttributeBuilder {\n  omittedAttributes: any[] = [\"id\", \"type\"]\n\n  build(params: any): iEntityAttributes {\n    return {\n      feature: params.feature,\n      type: params.type,\n      id: params.id,\n      attributes: this.buildAttributes(params)\n    }\n  }\n\n  buildAttributes(params) {\n    return _.omit(params, this.omittedAttributes)\n  }\n}\n","import * as _ from 'lodash'\n\nimport { Injectable } from '@angular/core'\n\nimport { Store, Action } from '@ngrx/store'\nimport { Actions, }      from '@ngrx/effects'\n\nimport {\n  EntityEffects as BaseEntityEffects,\n} from '@ceo/entity' \n\n\n@Injectable()\nexport class EntityEffects extends BaseEntityEffects {}\n","import * as _ from 'lodash'\n\nimport {\n  Injectable,\n} from '@angular/core'\n\nimport {\n  ApiRequestOptionsBuilder as BaseApiRequestOptionsBuilder,\n  iApiResourceIdentifier,\n} from '@ceo/shared'\n\n@Injectable()\nexport class RequestOptionsBuilder  extends BaseApiRequestOptionsBuilder {\n  protected filterParams(ri: iApiResourceIdentifier) {\n    let filter = this.getFilter(ri)\n\n    if(filter) {\n      return {\n        filter: this.sanitizedParams(filter)\n      }\n    }\n    else {\n      return {}\n    }\n  }\n}\n","import { RequestOptionsBuilder as ApiRequestOptionsBuilder } from './request-options-builder.service'\n\n\nexport const services: any[] = [\n  ApiRequestOptionsBuilder,\n]\n\nexport {\n  ApiRequestOptionsBuilder\n}\n","import { EntityAttributeBuilder }      from './entity-attribute-builder.service'\nimport { EntityEffects }               from './entity.effects'\n\nimport * as api from './api/index'\n\nexport const services: any[] = [\n  EntityAttributeBuilder,\n  EntityEffects,\n  ...api.services,\n]\n\nexport {\n  EntityAttributeBuilder,\n  EntityEffects,\n}\n\nexport {\n  ApiRequestOptionsBuilder\n} from './api/index'\n","import { InjectionToken }   from '@angular/core'\n\n\nexport const WORDPRESS_API_ENDPOINT_PROVIDER =\n  new InjectionToken<any>(\"Wordpress API EndpointP Provider\")\n\nexport const WORDPRESS_API_CONFIG =\n  new InjectionToken<any>(\"Wordpress API Attribute Builder\")\n\nexport const WORDPRESS_API_REQUEST_OPTIONS_BUILDER =\n  new InjectionToken<any>('API Request Options Builder')\n\nexport const WORDPRESS_API_RESPONSE_PARSER =\n  new InjectionToken<any>(\"Wordpress API Response Parser\")\n\nexport const WORDPRESS_API_SERVICE =\n  new InjectionToken<any>(\"Wordpress API Service\")\n\nexport const WORDPRESS_FEATURE_REDUCER =\n  new InjectionToken<any>('Feature Reducer')\n\nexport const WORDPRESS_ENTITY_SERVICE =\n  new InjectionToken<any>(\"Wordpress Entity Service\")\n\nexport const WORDPRESS_ENTITY_TYPE_PROVIDER =\n  new InjectionToken<any>(\"Wordpress Entity Type Provider\")\n\nexport const WORDPRESS_ENTITY_ADAPTER_FACTORY =\n  new InjectionToken<any>(\"Wordpress Entity Adapter Factory\")\n\nexport const WORDPRESS_FEATURE_CONFIG =\n  new InjectionToken<any>(\"Wordpress Feature Config\")\n\nexport const WORDPRESS_FEATURE_CONFIG_ATTRIBUTES =\n  new InjectionToken<any>(\"Wordpress Feature Config Attributes\")\n\nexport const WORDPRESS_FEATURE_NAME =\n  new InjectionToken<any>(\"Wordpress Feature Name\")\n\nexport const WORDPRESS_BASE_ENTITY =\n  new InjectionToken<any>(\"Wordpress Base Entity\")\n\nexport const WORDPRESS_ENTITY_EFFECTS =\n  new InjectionToken<any>(\"Wordpress Entity Effects\")\n\nexport const WORDPRESS_CUSTOM_SELECTORS =\n  new InjectionToken<any>(\"Wordpress Custom Selectors\")\n\nexport const WORDPRESS_ENTITY_ATTRIBUTE_BUILDER =\n  new InjectionToken<any>(\"Wordpress Entity Attribute Builder\")\n","import {\n  ApiService,\n  ApiRequestUrlBuilder,\n} from '@ceo/shared'\n\nimport {\n  ApiRequestOptionsBuilder,\n} from '../../services/index'\n\nexport function buildApiService(\n  apiConfig,\n  http,\n  csvToJsonService,\n  responseParser,\n): any {\n\n  let urlBuilder = new ApiRequestUrlBuilder(apiConfig)\n  let optionsBuilder = new ApiRequestOptionsBuilder(apiConfig)\n\n  return new ApiService(\n    http,\n    csvToJsonService,\n    responseParser,\n    urlBuilder,\n    optionsBuilder\n  )\n}\n","import {\n  buildFeatureInitialState as baseBuildFeatureInitialState,\n} from '@ceo/entity'\n\nimport { featureConfig }        from '../../config/index'\n\nexport function buildFeatureInitialState(): any {\n  return baseBuildFeatureInitialState(featureConfig)\n}\n","import * as _ from 'lodash'\n\nimport { createSelector } from '@ngrx/store'\n\nimport {\n  iEntity,\n  iEntityCollection,\n} from '@ceo/entity'\n\n\nexport function buildSelectors(selectorService): void {\n}\n","import { InjectionToken }   from '@angular/core'\n\nimport {\n  HttpClient\n} from '@angular/common/http'\n\nimport {\n  Store,\n  Action,\n  ActionReducer,\n} from '@ngrx/store'\n\nimport { Actions } from '@ngrx/effects'\n\nimport { InflectionService } from '@ceo/core'\n\nimport {\n  ApiRequestOptionsBuilder as BaseApiRequestOptionsBuilder,\n  ApiResponseParser,\n  ApiService,\n  CsvToJsonService,\n} from '@ceo/shared'\n\nimport {\n  iEntityConfig,\n  EntityAttributeBuilder,\n  EntityFactory,\n  EntityEffects,\n  EntitySelectorService,\n  EntitySelectorNameService,\n  EntityService,\n  ResourceIdentifierService,\n  RouteEntityTypeProvider,\n  FEATURE_CONFIG,\n  buildEntityEffects,\n  buildEntityService,\n  buildFeatureConfig,\n  buildFeatureReducer,\n} from '@ceo/entity'\n\nimport { WordpressEntity } from '../classes/index'\nimport {\n  apiConfig,\n  featureConfig,\n  featureName,\n} from '../config/index'\n\nimport {\n  EntityAttributeBuilder as WordpressEntityAttributeBuilder,\n  EntityEffects as WordpressEntityEffects,\n  ApiRequestOptionsBuilder,\n} from '../services/index'\n\n\nimport {\n  WORDPRESS_API_CONFIG,\n  WORDPRESS_API_RESPONSE_PARSER,\n  WORDPRESS_API_REQUEST_OPTIONS_BUILDER,\n  WORDPRESS_API_SERVICE,\n  WORDPRESS_CUSTOM_SELECTORS,\n  WORDPRESS_ENTITY_ATTRIBUTE_BUILDER,\n  WORDPRESS_ENTITY_SERVICE,\n  WORDPRESS_FEATURE_CONFIG,\n  WORDPRESS_FEATURE_CONFIG_ATTRIBUTES,\n  WORDPRESS_FEATURE_NAME,\n  WORDPRESS_FEATURE_REDUCER,\n} from './tokens'\n\nimport { \n  buildApiService,\n  buildSelectors,\n} from './builders/index'\n\nexport const tokenProviders: any[] = [\n  {\n    provide: WORDPRESS_API_CONFIG,\n    useValue: apiConfig,\n  },\n  {\n    provide: WORDPRESS_API_REQUEST_OPTIONS_BUILDER,\n    useClass: ApiRequestOptionsBuilder,\n  },\n  {\n    provide: WORDPRESS_API_RESPONSE_PARSER,\n    useClass: ApiResponseParser,\n  },\n  {\n    provide: WORDPRESS_API_SERVICE,\n    useFactory: buildApiService,\n    deps: [\n      WORDPRESS_API_CONFIG,\n      HttpClient,\n      CsvToJsonService,\n      WORDPRESS_API_RESPONSE_PARSER,\n      WORDPRESS_API_REQUEST_OPTIONS_BUILDER,\n    ]\n  },\n  {\n    provide: WORDPRESS_CUSTOM_SELECTORS,\n    useValue: buildSelectors,\n  },\n  {\n    provide: WORDPRESS_ENTITY_ATTRIBUTE_BUILDER,\n    useClass: WordpressEntityAttributeBuilder,\n  },\n  {\n    provide: WordpressEntityEffects,\n    useFactory: buildEntityEffects,\n    deps: [\n      Store,\n      Actions,\n      WORDPRESS_ENTITY_SERVICE,\n      WORDPRESS_FEATURE_CONFIG,\n      ResourceIdentifierService,\n    ],\n  },\n  {\n    provide: WORDPRESS_ENTITY_SERVICE,\n    useFactory: buildEntityService,\n    deps: [\n      EntityFactory,\n      WORDPRESS_API_SERVICE,\n      WORDPRESS_ENTITY_ATTRIBUTE_BUILDER,\n    ]\n  },\n  {\n    provide: FEATURE_CONFIG,\n    useValue: featureConfig,\n    multi: true,\n  },\n  {\n    provide: WORDPRESS_FEATURE_NAME,\n    useValue: featureName,\n  },\n  {\n    provide: WORDPRESS_FEATURE_REDUCER,\n    deps: [\n      WORDPRESS_FEATURE_CONFIG,\n      EntitySelectorService,\n      EntitySelectorNameService,\n      WORDPRESS_CUSTOM_SELECTORS,\n    ],\n    useFactory: buildFeatureReducer,\n  },\n  {\n    provide: WORDPRESS_FEATURE_CONFIG,\n    deps: [\n      WORDPRESS_FEATURE_CONFIG_ATTRIBUTES,\n    ],\n    useFactory: buildFeatureConfig,\n  },\n  {\n    provide: WORDPRESS_FEATURE_CONFIG_ATTRIBUTES,\n    useValue: featureConfig,\n  },\n]\n","import { NgModule } from '@angular/core'\n\nimport { StoreModule }   from '@ngrx/store'\nimport { EffectsModule } from '@ngrx/effects'\n\nimport {\n  tokenProviders as storeTokenProviders,\n  buildFeatureInitialState,\n  WORDPRESS_FEATURE_REDUCER,\n} from './store/index'\n\nimport { featureName } from './config/index'\n\nimport {\n  services,\n  EntityEffects as WordpressEntityEffects,\n} from './services/index'\n\n@NgModule({\n  imports: [\n    StoreModule.forFeature(\n      featureName,\n      WORDPRESS_FEATURE_REDUCER,\n      {\n        initialState: buildFeatureInitialState\n      }\n    ),\n    EffectsModule.forFeature([WordpressEntityEffects]),\n  ],\n  providers: [\n    ...services,\n    ...storeTokenProviders,\n  ]\n})\nexport class ApiModule {}\n"]}